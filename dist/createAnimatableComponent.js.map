{"version":3,"sources":["../createAnimatableComponent.js"],"names":["createAnimatableComponent","INTERPOLATION_STYLE_PROPERTIES","ZERO_CLAMPED_STYLE_PROPERTIES","omit","keys","source","filtered","Object","forEach","indexOf","key","deepEquals","a","b","JSON","stringify","getAnimationTarget","iteration","direction","getAnimationOrigin","getCompiledAnimation","animation","compiledAnimation","Error","makeInterpolatedStyle","animationValue","style","interpolate","transitionToValue","property","transitionValue","toValue","duration","easing","useNativeDriver","delay","onTransitionBegin","onTransitionEnd","Animated","timing","EASING_FUNCTIONS","spring","setTimeout","start","WrappedComponent","wrappedComponentName","displayName","name","Animatable","createAnimatedComponent","props","Value","animationStyle","state","transitionStyle","transitionValues","currentTransitionValues","transition","initializeTransitionState","delayTimer","animationName","animate","bind","transitionKeys","styleValues","value","missingKeys","filter","length","transitionState","nativeProps","ref","setNativeProps","onAnimationBegin","iterationDelay","startAnimation","onAnimationEnd","endState","values","transitionTo","setAnimation","then","stopAnimation","clearTimeout","callback","setState","Promise","resolve","scheduledAnimation","iterationCount","currentIteration","fromValue","setValue","reversed","Easing","out","config","isInteraction","finished","fromValues","toValues","fromValuesFlat","toValuesFlat","getTransitionState","needsInterpolation","needsZeroClamping","inputRange","outputRange","extrapolateLeft","transitionToValues","transitions","from","to","prop","currentTransitionValue","restProps","AnimatableComponent","propTypes","handleRef","Component","PropTypes","oneOfType","string","object","number","oneOf","func","propName","val","array","arrayOf","bool","defaultProps","undefined"],"mappings":"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","file":"createAnimatableComponent.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated, Easing } from 'react-native';\nimport wrapStyleTransforms from './wrapStyleTransforms';\nimport getStyleValues from './getStyleValues';\nimport flattenStyle from './flattenStyle';\nimport createAnimation from './createAnimation';\nimport { getAnimationByName, getAnimationNames } from './registry';\nimport EASING_FUNCTIONS from './easing';\n\n// These styles are not number based and thus needs to be interpolated\nconst INTERPOLATION_STYLE_PROPERTIES = [\n  // Transform styles\n  'rotate',\n  'rotateX',\n  'rotateY',\n  'rotateZ',\n  'skewX',\n  'skewY',\n  'transformMatrix',\n  // View styles\n  'backgroundColor',\n  'borderColor',\n  'borderTopColor',\n  'borderRightColor',\n  'borderBottomColor',\n  'borderLeftColor',\n  'shadowColor',\n  // Text styles\n  'color',\n  'textDecorationColor',\n  // Image styles\n  'tintColor',\n];\n\nconst ZERO_CLAMPED_STYLE_PROPERTIES = ['width', 'height'];\n\n// Create a copy of `source` without `keys`\nfunction omit(keys, source) {\n  const filtered = {};\n  Object.keys(source).forEach(key => {\n    if (keys.indexOf(key) === -1) {\n      filtered[key] = source[key];\n    }\n  });\n  return filtered;\n}\n\n// Yes it's absurd, but actually fast\nfunction deepEquals(a, b) {\n  return a === b || JSON.stringify(a) === JSON.stringify(b);\n}\n\n// Determine to what value the animation should tween to\nfunction getAnimationTarget(iteration, direction) {\n  switch (direction) {\n    case 'reverse':\n      return 0;\n    case 'alternate':\n      return iteration % 2 ? 0 : 1;\n    case 'alternate-reverse':\n      return iteration % 2 ? 1 : 0;\n    case 'normal':\n    default:\n      return 1;\n  }\n}\n\n// Like getAnimationTarget but opposite\nfunction getAnimationOrigin(iteration, direction) {\n  return getAnimationTarget(iteration, direction) ? 0 : 1;\n}\n\nfunction getCompiledAnimation(animation) {\n  if (typeof animation === 'string') {\n    const compiledAnimation = getAnimationByName(animation);\n    if (!compiledAnimation) {\n      throw new Error(`No animation registred by the name of ${animation}`);\n    }\n    return compiledAnimation;\n  }\n  return createAnimation(animation);\n}\n\nfunction makeInterpolatedStyle(compiledAnimation, animationValue) {\n  const style = {};\n  Object.keys(compiledAnimation).forEach(key => {\n    if (key === 'style') {\n      Object.assign(style, compiledAnimation.style);\n    } else if (key !== 'easing') {\n      style[key] = animationValue.interpolate(compiledAnimation[key]);\n    }\n  });\n  return wrapStyleTransforms(style);\n}\n\nfunction transitionToValue(\n  property,\n  transitionValue,\n  toValue,\n  duration,\n  easing,\n  useNativeDriver = false,\n  delay,\n  onTransitionBegin,\n  onTransitionEnd,\n) {\n  const animation =\n    duration || easing || delay\n      ? Animated.timing(transitionValue, {\n          toValue,\n          delay,\n          duration: duration || 1000,\n          easing:\n            typeof easing === 'function'\n              ? easing\n              : EASING_FUNCTIONS[easing || 'ease'],\n          useNativeDriver,\n        })\n      : Animated.spring(transitionValue, { toValue, useNativeDriver });\n  setTimeout(() => onTransitionBegin(property), delay);\n  animation.start(() => onTransitionEnd(property));\n}\n\n// Make (almost) any component animatable, similar to Animated.createAnimatedComponent\nexport default function createAnimatableComponent(WrappedComponent) {\n  const wrappedComponentName =\n    WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n  const Animatable = Animated.createAnimatedComponent(WrappedComponent);\n\n  return class AnimatableComponent extends Component {\n    static displayName = `withAnimatable(${wrappedComponentName})`;\n\n    static propTypes = {\n      animation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n      duration: PropTypes.number,\n      direction: PropTypes.oneOf([\n        'normal',\n        'reverse',\n        'alternate',\n        'alternate-reverse',\n      ]),\n      delay: PropTypes.number,\n      easing: PropTypes.oneOfType([\n        PropTypes.oneOf(Object.keys(EASING_FUNCTIONS)),\n        PropTypes.func,\n      ]),\n      iterationCount(props, propName) {\n        const val = props[propName];\n        if (val !== 'infinite' && !(typeof val === 'number' && val >= 1)) {\n          return new Error(\n            'iterationCount must be a positive number or \"infinite\"',\n          );\n        }\n        return null;\n      },\n      iterationDelay: PropTypes.number,\n      onAnimationBegin: PropTypes.func,\n      onAnimationEnd: PropTypes.func,\n      onTransitionBegin: PropTypes.func,\n      onTransitionEnd: PropTypes.func,\n      style: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.array,\n        PropTypes.object,\n      ]),\n      transition: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n      ]),\n      useNativeDriver: PropTypes.bool,\n    };\n\n    static defaultProps = {\n      animation: undefined,\n      delay: 0,\n      direction: 'normal',\n      duration: undefined,\n      easing: undefined,\n      iterationCount: 1,\n      iterationDelay: 0,\n      onAnimationBegin() {},\n      onAnimationEnd() {},\n      onTransitionBegin() {},\n      onTransitionEnd() {},\n      style: undefined,\n      transition: undefined,\n      useNativeDriver: false,\n    };\n\n    constructor(props) {\n      super(props);\n\n      const animationValue = new Animated.Value(\n        getAnimationOrigin(0, this.props.direction),\n      );\n      let animationStyle = {};\n      let compiledAnimation = {};\n      if (props.animation) {\n        compiledAnimation = getCompiledAnimation(props.animation);\n        animationStyle = makeInterpolatedStyle(\n          compiledAnimation,\n          animationValue,\n        );\n      }\n      this.state = {\n        animationValue,\n        animationStyle,\n        compiledAnimation,\n        transitionStyle: {},\n        transitionValues: {},\n        currentTransitionValues: {},\n      };\n\n      if (props.transition) {\n        this.state = {\n          ...this.state,\n          ...this.initializeTransitionState(props.transition),\n        };\n      }\n      this.delayTimer = null;\n\n      // Alias registered animations for backwards compatibility\n      getAnimationNames().forEach(animationName => {\n        if (!(animationName in this)) {\n          this[animationName] = this.animate.bind(this, animationName);\n        }\n      });\n    }\n\n    initializeTransitionState(transitionKeys) {\n      const transitionValues = {};\n      const styleValues = {};\n\n      const currentTransitionValues = getStyleValues(\n        transitionKeys,\n        this.props.style,\n      );\n      Object.keys(currentTransitionValues).forEach(key => {\n        const value = currentTransitionValues[key];\n        if (INTERPOLATION_STYLE_PROPERTIES.indexOf(key) !== -1) {\n          transitionValues[key] = new Animated.Value(0);\n          styleValues[key] = value;\n        } else {\n          const animationValue = new Animated.Value(value);\n          transitionValues[key] = animationValue;\n          styleValues[key] = animationValue;\n        }\n      });\n\n      return {\n        currentTransitionValues,\n        transitionStyle: styleValues,\n        transitionValues,\n      };\n    }\n\n    getTransitionState(keys) {\n      const transitionKeys = typeof keys === 'string' ? [keys] : keys;\n      let {\n        transitionValues,\n        currentTransitionValues,\n        transitionStyle,\n      } = this.state;\n      const missingKeys = transitionKeys.filter(\n        key => !this.state.transitionValues[key],\n      );\n      if (missingKeys.length) {\n        const transitionState = this.initializeTransitionState(missingKeys);\n        transitionValues = {\n          ...transitionValues,\n          ...transitionState.transitionValues,\n        };\n        currentTransitionValues = {\n          ...currentTransitionValues,\n          ...transitionState.currentTransitionValues,\n        };\n        transitionStyle = {\n          ...transitionStyle,\n          ...transitionState.transitionStyle,\n        };\n      }\n      return { transitionValues, currentTransitionValues, transitionStyle };\n    }\n\n    ref = null;\n    handleRef = ref => {\n      this.ref = ref;\n    };\n\n    setNativeProps(nativeProps) {\n      if (this.ref) {\n        this.ref.setNativeProps(nativeProps);\n      }\n    }\n\n    componentDidMount() {\n      const {\n        animation,\n        duration,\n        delay,\n        onAnimationBegin,\n        iterationDelay,\n      } = this.props;\n      if (animation) {\n        const startAnimation = () => {\n          onAnimationBegin();\n          this.startAnimation(duration, 0, iterationDelay, endState =>\n            this.props.onAnimationEnd(endState),\n          );\n          this.delayTimer = null;\n        };\n        if (delay) {\n          this.delayTimer = setTimeout(startAnimation, delay);\n        } else {\n          startAnimation();\n        }\n      }\n    }\n\n    componentWillReceiveProps(props) {\n      const {\n        animation,\n        delay,\n        duration,\n        easing,\n        transition,\n        onAnimationBegin,\n      } = props;\n\n      if (transition) {\n        const values = getStyleValues(transition, props.style);\n        this.transitionTo(values, duration, easing, delay);\n      } else if (!deepEquals(animation, this.props.animation)) {\n        if (animation) {\n          if (this.delayTimer) {\n            this.setAnimation(animation);\n          } else {\n            onAnimationBegin();\n            this.animate(animation, duration).then(endState =>\n              this.props.onAnimationEnd(endState),\n            );\n          }\n        } else {\n          this.stopAnimation();\n        }\n      }\n    }\n\n    componentWillUnmount() {\n      if (this.delayTimer) {\n        clearTimeout(this.delayTimer);\n      }\n    }\n\n    setAnimation(animation, callback) {\n      const compiledAnimation = getCompiledAnimation(animation);\n      const animationStyle = makeInterpolatedStyle(\n        compiledAnimation,\n        this.state.animationValue,\n      );\n      this.setState({ animationStyle, compiledAnimation }, callback);\n    }\n\n    animate(animation, duration, iterationDelay) {\n      return new Promise(resolve => {\n        this.setAnimation(animation, () => {\n          this.startAnimation(duration, 0, iterationDelay, resolve);\n        });\n      });\n    }\n\n    stopAnimation() {\n      this.setState({\n        scheduledAnimation: false,\n        animationStyle: {},\n      });\n      this.state.animationValue.stopAnimation();\n      if (this.delayTimer) {\n        clearTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    }\n\n    startAnimation(duration, iteration, iterationDelay, callback) {\n      const { animationValue, compiledAnimation } = this.state;\n      const { direction, iterationCount, useNativeDriver } = this.props;\n      let easing = this.props.easing || compiledAnimation.easing || 'ease';\n      let currentIteration = iteration || 0;\n      const fromValue = getAnimationOrigin(currentIteration, direction);\n      const toValue = getAnimationTarget(currentIteration, direction);\n      animationValue.setValue(fromValue);\n\n      if (typeof easing === 'string') {\n        easing = EASING_FUNCTIONS[easing];\n      }\n      // Reverse easing if on the way back\n      const reversed =\n        direction === 'reverse' ||\n        (direction === 'alternate' && !toValue) ||\n        (direction === 'alternate-reverse' && !toValue);\n      if (reversed) {\n        easing = Easing.out(easing);\n      }\n      const config = {\n        toValue,\n        easing,\n        isInteraction: iterationCount <= 1,\n        duration: duration || this.props.duration || 1000,\n        useNativeDriver,\n        delay: iterationDelay || 0,\n      };\n\n      Animated.timing(animationValue, config).start(endState => {\n        currentIteration += 1;\n        if (\n          endState.finished &&\n          this.props.animation &&\n          (iterationCount === 'infinite' || currentIteration < iterationCount)\n        ) {\n          this.startAnimation(\n            duration,\n            currentIteration,\n            iterationDelay,\n            callback,\n          );\n        } else if (callback) {\n          callback(endState);\n        }\n      });\n    }\n\n    transition(fromValues, toValues, duration, easing) {\n      const fromValuesFlat = flattenStyle(fromValues);\n      const toValuesFlat = flattenStyle(toValues);\n      const transitionKeys = Object.keys(toValuesFlat);\n      const {\n        transitionValues,\n        currentTransitionValues,\n        transitionStyle,\n      } = this.getTransitionState(transitionKeys);\n\n      transitionKeys.forEach(property => {\n        const fromValue = fromValuesFlat[property];\n        const toValue = toValuesFlat[property];\n        let transitionValue = transitionValues[property];\n        if (!transitionValue) {\n          transitionValue = new Animated.Value(0);\n        }\n        const needsInterpolation =\n          INTERPOLATION_STYLE_PROPERTIES.indexOf(property) !== -1;\n        const needsZeroClamping =\n          ZERO_CLAMPED_STYLE_PROPERTIES.indexOf(property) !== -1;\n        if (needsInterpolation) {\n          transitionValue.setValue(0);\n          transitionStyle[property] = transitionValue.interpolate({\n            inputRange: [0, 1],\n            outputRange: [fromValue, toValue],\n          });\n          currentTransitionValues[property] = toValue;\n          toValuesFlat[property] = 1;\n        } else {\n          if (needsZeroClamping) {\n            transitionStyle[property] = transitionValue.interpolate({\n              inputRange: [0, 1],\n              outputRange: [0, 1],\n              extrapolateLeft: 'clamp',\n            });\n            currentTransitionValues[property] = toValue;\n          } else {\n            transitionStyle[property] = transitionValue;\n          }\n          transitionValue.setValue(fromValue);\n        }\n      });\n      this.setState(\n        { transitionValues, transitionStyle, currentTransitionValues },\n        () => {\n          this.transitionToValues(\n            toValuesFlat,\n            duration || this.props.duration,\n            easing,\n            this.props.delay,\n          );\n        },\n      );\n    }\n\n    transitionTo(toValues, duration, easing, delay) {\n      const { currentTransitionValues } = this.state;\n      const toValuesFlat = flattenStyle(toValues);\n      const transitions = {\n        from: {},\n        to: {},\n      };\n\n      Object.keys(toValuesFlat).forEach(property => {\n        const toValue = toValuesFlat[property];\n        const needsInterpolation =\n          INTERPOLATION_STYLE_PROPERTIES.indexOf(property) !== -1;\n        const needsZeroClamping =\n          ZERO_CLAMPED_STYLE_PROPERTIES.indexOf(property) !== -1;\n        const transitionStyle = this.state.transitionStyle[property];\n        const transitionValue = this.state.transitionValues[property];\n        if (\n          !needsInterpolation &&\n          !needsZeroClamping &&\n          transitionStyle &&\n          transitionStyle === transitionValue\n        ) {\n          transitionToValue(\n            property,\n            transitionValue,\n            toValue,\n            duration,\n            easing,\n            this.props.useNativeDriver,\n            delay,\n            prop => this.props.onTransitionBegin(prop),\n            prop => this.props.onTransitionEnd(prop),\n          );\n        } else {\n          let currentTransitionValue = currentTransitionValues[property];\n          if (\n            typeof currentTransitionValue === 'undefined' &&\n            this.props.style\n          ) {\n            const style = getStyleValues(property, this.props.style);\n            currentTransitionValue = style[property];\n          }\n          transitions.from[property] = currentTransitionValue;\n          transitions.to[property] = toValue;\n        }\n      });\n\n      if (Object.keys(transitions.from).length) {\n        this.transition(transitions.from, transitions.to, duration, easing);\n      }\n    }\n\n    transitionToValues(toValues, duration, easing, delay) {\n      Object.keys(toValues).forEach(property => {\n        const transitionValue = this.state.transitionValues[property];\n        const toValue = toValues[property];\n        transitionToValue(\n          property,\n          transitionValue,\n          toValue,\n          duration,\n          easing,\n          this.props.useNativeDriver,\n          delay,\n          prop => this.props.onTransitionBegin(prop),\n          prop => this.props.onTransitionEnd(prop),\n        );\n      });\n    }\n\n    render() {\n      const { style, animation, transition } = this.props;\n      if (animation && transition) {\n        throw new Error('You cannot combine animation and transition props');\n      }\n      const restProps = omit(\n        Object.keys(AnimatableComponent.propTypes),\n        this.props,\n      );\n\n      return (\n        <Animatable\n          ref={this.handleRef}\n          style={[\n            style,\n            this.state.animationStyle,\n            wrapStyleTransforms(this.state.transitionStyle),\n          ]}\n          {...restProps}\n        />\n      );\n    }\n  };\n}\n"]}